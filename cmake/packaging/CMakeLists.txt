# Just use simple packaging into an archive
# You could add anything you want here: deb, wix, etc...
# And additional files in this CMakeLists root

set(CPACK_PACKAGE_NAME "${PROJECT_NAME}")
set(CPACK_PACKAGE_VENDOR "${PROJECT_PACKAGE_VENDOR}")
set(CPACK_PACKAGE_VERSION_MAJOR "${PROJECT_VERSION_MAJOR}")
set(CPACK_PACKAGE_VERSION_MINOR "${PROJECT_VERSION_MINOR}")
set(CPACK_PACKAGE_VERSION_PATCH "${PROJECT_VERSION_PATCH}")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "${PROJECT_DESCRIPTION}")

set(CPACK_STRIP_FILES On)
set(CPACK_SOURCE_STRIP_FILES Off)
set(CPACK_VERBATIM_VARIABLES Off)
set(CPACK_SOURCE_IGNORE_FILES
    "/\.git/"
    "/\.gitignore"
    "/*.code-workspace"
    "/[Bb]uild*/"
)

set(OS "${CMAKE_SYSTEM_NAME}")
set(ARCH "${CMAKE_SYSTEM_PROCESSOR}")

set(CPACK_SOURCE_PACKAGE_FILE_NAME "${PROJECT_NAME}-${PROJECT_VERSION}")
set(CPACK_PACKAGE_FILE_NAME "${PROJECT_NAME}-${PROJECT_VERSION}-${OS}-${ARCH}")

list(APPEND CPACK_GENERATOR ZIP)
list(APPEND CPACK_SOURCE_GENERATOR ZIP)
set(CPACK_ZIP_COMPONENT_INSTALL On)

include(CPack)
